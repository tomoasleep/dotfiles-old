[[ -s "${ZDOTDIR:-$HOME}/.zprezto/runcoms/zshrc" ]] && source "${ZDOTDIR:-$HOME}/.zprezto/runcoms/zshrc"

# ディレクトリを水色にする｡
export LS_COLORS='di=01;36'

# 補完候補が複数ある時に、一覧表示
setopt auto_list

# 保管結果をできるだけ詰める
setopt list_packed

# 補完キー（Tab, Ctrl+I) を連打するだけで順に補完候補を自動で補完
setopt auto_menu

# カッコの対応などを自動的に補完
setopt auto_param_keys

# ディレクトリ名だけで､ディレクトリの移動をする｡
setopt auto_cd

# C-s, C-qを無効にする。
setopt no_flow_control

# シェルのプロセスごとに履歴を共有
setopt share_history

# cdのタイミングで自動的にpushd
setopt auto_pushd 
function chpwd() { ls }

# 複数の zsh を同時に使う時など history ファイルに上書きせず追加
setopt append_history

# Ctrl+wで､直前の/までを削除する｡
WORDCHARS='*?_-.[]~=&;!#$%^(){}<>'

# 関数
find-grep () { find . -type f -print | xargs grep -n --binary-files=without-match $@ }

# alias ls="ls -Gp --color=auto"
alias gls="gls --color"
alias where="command -v"
alias jb="jobs -l"
alias la="ls -a"
alias lf="ls -F"
alias ll="ls -l"
alias du="du -h"
alias df="df -h"
alias su="su -l"

if [ -n "$TMUX" ]; then
    alias pbcopy="reattach-to-user-namespace pbcopy"
fi
alias tmux-copy='tmux save-buffer - | pbcopy'

alias bundle='nocorrect bundle'
alias tmux='tmux -2'
alias ocaml='rlwrap ocaml'
alias javac="javac -J-Dfile.encoding=UTF8"
alias gvimr="gvim --remote-tab-silent"

autoload -U compinit && compinit

function pause_guard {
  ps aux | grep -w 'bin/[g]uard' | awk '{print $2}' | xargs kill -USR1
}

function unpause_guard {
  ps aux | grep -w 'bin/[g]uard' | awk '{print $2}' | xargs kill -USR2
}

function _git_co {
  _git_checkout $*
}

# powerline
# . /usr/local/lib/python2.7/site-packages/powerline/bindings/zsh/powerline.zsh
#. $HOME/dotfiles/powerline_setting.sh

[[ -s `brew --prefix`/etc/autojump.sh ]] && . `brew --prefix`/etc/autojump.sh
[[ -z $DOTFILES_ZSHENV ]] && source .zshenv

# move env_path to head
export PATH=$ENV_PATH:$PATH
typeset -U PATH

fpath=($(brew --prefix)/share/zsh/site-functions $fpath)

autoload -U compinit
compinit -u

# vim: filetype=zsh :
