# Path to your oh-my-zsh configuration.
ZSH=$HOME/.oh-my-zsh

# Set name of the theme to load.
# Look in ~/.oh-my-zsh/themes/
# Optionally, if you set this to "random", it'll load a random theme each
# time that oh-my-zsh is loaded.
ZSH_THEME="agnoster"

# Example aliases
# alias zshconfig="mate ~/.zshrc"
# alias ohmyzsh="mate ~/.oh-my-zsh"

# Set to this to use case-sensitive completion
# CASE_SENSITIVE="true"

# Comment this out to disable bi-weekly auto-update checks
# DISABLE_AUTO_UPDATE="true"

# Uncomment to change how many often would you like to wait before auto-updates occur? (in days)
# export UPDATE_ZSH_DAYS=13

# Uncomment following line if you want to disable colors in ls
# DISABLE_LS_COLORS="true"

# Uncomment following line if you want to disable autosetting terminal title.
# DISABLE_AUTO_TITLE="true"

# Uncomment following line if you want red dots to be displayed while waiting for completion
# COMPLETION_WAITING_DOTS="true"

# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
plugins=(git)

source $ZSH/oh-my-zsh.sh

# Customize to your needs...

# ディレクトリを水色にする｡
export LS_COLORS='di=01;36'

# 補完候補が複数ある時に、一覧表示
setopt auto_list

# 保管結果をできるだけ詰める
setopt list_packed

# 補完キー（Tab, Ctrl+I) を連打するだけで順に補完候補を自動で補完
setopt auto_menu

# カッコの対応などを自動的に補完
setopt auto_param_keys

# ディレクトリ名だけで､ディレクトリの移動をする｡
setopt auto_cd

# C-s, C-qを無効にする。
setopt no_flow_control

# シェルのプロセスごとに履歴を共有
setopt share_history

# cdのタイミングで自動的にpushd
setopt auto_pushd 
function chpwd() { ls }

# 複数の zsh を同時に使う時など history ファイルに上書きせず追加
setopt append_history

# Ctrl+wで､直前の/までを削除する｡
WORDCHARS='*?_-.[]~=&;!#$%^(){}<>'

# 関数
find-grep () { find . -type f -print | xargs grep -n --binary-files=without-match $@ }

# alias ls="ls -Gp --color=auto"
alias gls="gls --color"
alias where="command -v"
alias jb="jobs -l"
alias la="ls -a"
alias lf="ls -F"
alias ll="ls -l"
alias du="du -h"
alias df="df -h"
alias su="su -l"

case ${OSTYPE} in
  darwin*)
    [[ -s `brew --prefix`/etc/autojump.sh ]] && . `brew --prefix`/etc/autojump.sh
    fpath=($(brew --prefix)/share/zsh/site-functions $fpath)
    ;;
  linux*)
    alias vi=vim
    alias tmux='tmux -2'
    alias open='gnome-open'
esac

if [ -n "$TMUX" ]; then
    alias pbcopy="reattach-to-user-namespace pbcopy"
fi
alias tmux-copy='tmux save-buffer - | pbcopy'

alias bundle='nocorrect bundle'
alias tmux='tmux -2'
alias ocaml='rlwrap ocaml'
alias javac="javac -J-Dfile.encoding=UTF8"
alias gvimr="gvim --remote-tab-silent"

autoload -U compinit && compinit

function pause_guard {
  ps aux | grep -w 'bin/[g]uard' | awk '{print $2}' | xargs kill -USR1
}

function unpause_guard {
  ps aux | grep -w 'bin/[g]uard' | awk '{print $2}' | xargs kill -USR2
}

function _git_co {
  _git_checkout $*
}

function gi {
  curl http://www.gitignore.io/api/$@ ;
}

# powerline
# . /usr/local/lib/python2.7/site-packages/powerline/bindings/zsh/powerline.zsh
#. $HOME/dotfiles/powerline_setting.sh


[[ -z $DOTFILES_ZSHENV ]] && source .zshenv

# move env_path to head
export PATH=$ENV_PATH:$PATH
typeset -U PATH


autoload -U compinit
compinit -u

# vim: filetype=zsh :
